           ┌────────────────┐
           │  BinaryCodec   │  ← MQTT rules live here
           └────────────────┘
                  ▲
        ┌─────────┴─────────┐
        │                   │
┌──────────────┐   ┌────────────────┐
│ Bytes / Buf  │   │ AsyncRead/Write│
│ (sync)       │   │ (async)        │
└──────────────┘   └────────────────┘